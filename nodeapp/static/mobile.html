<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="user-scalable=no, width=device-width, height=device-height initial-scale=1, maximum-scale=1" />
        
        <!-- apple standalone config -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="apple-touch-icon" href="appicons/icon32x32.png">
        <link rel="apple-touch-icon" sizes="57x57" href="appicons/icon57x57.png">
        <link rel="apple-touch-icon" sizes="76x76" href="appicons/icon76x76.png">
        <link rel="apple-touch-icon" sizes="120x120" href="appicons/icon120x120.png">
        <link rel="apple-touch-icon" sizes="152x152" href="appicons/icon152x152.png">
        <link rel="apple-touch-icon" sizes="167x167" href="appicons/icon167x167.png">
        <link rel="apple-touch-icon" sizes="180x180" href="appicons/icon180x180.png">

        <!-- android webapp config TODO: manifest -->
        <meta name="mobile-web-app-capable" content="yes">

        <title>Platform</title>

        <!-- styles -->
        <link href="css/default.css" rel="stylesheet" />

        <!-- supporting libraries -->
        <script src="lib/mustache.js"></script>
        <script src="lib/Box2dWeb-2.1.a.3.js"></script>
        <script src="lib/swfobject.js"></script>
        <script src="lib/MD5.js"></script>
        <script src="lib/hammer.js"></script>

        <!-- legacy objects -->
        <script src="js/graphicsprimitives.js"></script>

        <!-- app scripts -->
        <script src="js/localplay.js"></script>
        <script src="js/localplay.timer.js"></script>
        <script src="js/localplay.domutils.js"></script>
        <script src="js/localplay.log.js"></script>
        <script src="js/localplay.datasource.js"></script>
        <script src="js/localplay.imageprocessor.js"></script>
        <script src="js/localplay.dialogbox.js"></script>
        <script src="js/localplay.listview.js"></script>
        <script src="js/localplay.menu.js"></script>
        <script src="js/localplay.authentication.js"></script>
        <script src="js/localplay.ratingpanel.js"></script>
        <script src="js/localplay.objecteditor.js"></script>
        <script src="js/localplay.world.js"></script>
        <script src="js/localplay.sprite.js"></script>
        <script src="js/localplay.game.js"></script>
        <script src="js/localplay.game.gameplay.js"></script>
        <script src="js/localplay.game.gamestate.js"></script>
        <script src="js/localplay.game.background.js"></script>
        <script src="js/localplay.game.behaviour.js"></script>
        <script src="js/localplay.game.avatar.js"></script>
        <script src="js/localplay.game.item.js"></script>
        <script src="js/localplay.game.level.js"></script>
        <script src="js/localplay.game.storyeditor.js"></script>
        <script src="js/localplay.game.backgroundeditor.js"></script>
        <script src="js/localplay.game.itemeditor.js"></script>
        <script src="js/localplay.game.soundeditor.js"></script>
        <script src="js/localplay.game.controller.js"></script>
        <script src="js/localplay.game.controller.mobile.js"></script>
        <script src="js/localplay.game.controller.preview.js"></script>
        <script src="js/localplay.game.controller.player.js"></script>
        <script src="js/localplay.game.controller.editor.js"></script>
        <script src="js/localplay.game.controller.embedded.js"></script>
        <script src="js/localplay.game.arcade.js"></script>
        <script src="js/localplay.game.arcade.js"></script>
        <script src="js/localplay.creator.js"></script>
        <script src="js/localplay.game.avatareditor.js"></script>
        <script src="js/localplay.game.layouteditor.js"></script>
        <script src="js/localplay.game.thingeditor.js"></script>
        <script src="js/localplay.game.leveleditor.js"></script>
        <script src="js/localplay.upload.js"></script>

        <script>
            //
            //
            //
            //var game = null;
            function init() {
                //
                //
                //
                var canvas = document.getElementById("game.canvas");
                if (canvas) {
                    //
                    //
                    //
                    var aspect = canvas.offsetWidth / canvas.offsetHeight;
                    canvas.width = Math.round(canvas.height * aspect);
                    //
                    //
                    //
                    var id = localplay.domutils.getParameter("id");
                    if (id == -1 || id === undefined) {
                        var game = localplay.game.creategame(canvas);
                        localplay.game.leveleditor.createlevel(game);
                    } else {
                        var game = localplay.game.creategamewithlevel(canvas, id);
                        localplay.game.controller.mobile.attachtogame(game);
                    }
                }

            }
        </script>
    </head>
    <!-- <body class="gamecontainer" onload="init();"> -->
    <body onload="init();">
        <div id="canvascontainer" style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; background-color: white;">
            <canvas id="game.canvas" class="slider" width="1024" height="723">Your browser doesn't support HTML5 canvas</canvas>
        </div>
        <div id="menu-backdrop"></div>
        <!--<img id="play-button" src="/images/play-game.png" />-->
        <div id="title-bar">
            <img id="title-logo" src="/images/bc-logo.png"/>
            <div id="title-progress-container">
                <span style="vertical-align: middle;">TIME&nbsp;</span>
                <progress id="title-progress" value="0" ></progress>
            </div>
            <img id="title-menu" src="/images/logo-menu.png" />
        </div>
        <div id="play-bar">
            <div class="play-bar-button-group">
                <img class="play-bar-button" id="play-bar-button-up" src="/images/arrow-up.png" />
            </div>
            <div id="play-bar-direction-buttons" class="play-bar-button-group">
                <img class="play-bar-button" id="play-bar-button-left" src="/images/arrow-left.png" />
                <img class="play-bar-button" id="play-bar-button-right" src="/images/arrow-right.png" />
            </div>
        </div>
        <div id="main-menu">
            <div class="main-menu-item" id="menu.close" style="font-family: BritishCouncilSansW29-Rg;">BACK</div>
            <div class="main-menu-item" id="menu.play" style="font-family: BritishCouncilSansW29-Rg;">PLAY</div>
            <div class="main-menu-item" id="menu.create" s>MAKE A GAME</div>
            <div class="main-menu-item" id="menu.gallery" s>GALLERY</div>
            <div class="main-menu-item" id="menu.people" s>PEOPLE</div>
            <div class="main-menu-item" id="menu.search" s>SEARCH</div>
            <div class="main-menu-item" id="menu.help" s>HELP</div>
            <div class="main-menu-item" id="menu.about" s>ABOUT</div>
            <div class="main-menu-item" id="menu.login" s>LOGIN/SIGN UP</div>
        </div>
    </body>
</html>
